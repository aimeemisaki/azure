## ラボの提案

この見積もりエンジンに新しいサプライヤーを追加する必要がある場合、サプライヤーのAPIへの呼び出しを含む新しいアクティビティ関数を記述する必要があります。その後、オーケストレーターを変更して、新しいアクティビティを他のものと一緒に呼び出し、待機する必要があります。変更をデプロイするということは、既存の関数を更新することを意味します - もし新しいアクティビティに問題があれば、既存のワークフローが壊れる可能性があります。

pub-subパターンでは、新しいサプライヤーコードをService Busキューまたはトピックからトリガーされる関数に追加します。これは既存のコードに変更を加えることなく、独自にデプロイされ、問題は新しいコンポーネントに限定されます。

全体のワークフローに時間制限を設ける必要がある場合、個々の関数内にタイムアウトを実装するか、durable function内にタイムアウトを実装することができます。タイムアウトが発生すると、オーケストレーターは受け取った見積もりの中で最良のものを選択し、残りのサプライヤーを待たないようにします。
